<!DOCTYPE html>
<html>
<head>
 <meta charset="utf-8" >
 <title>Javascript tests</title>
 <link rel="stylesheet" href="../../../superlists/static/tests/qunit.css">
</head>
<body>
 <div id="qunit" ></div>
<div id="qunit-fixture">
 <a id="id_login" >Sign in</a>
</div>

 <script src="http://code.jquery.com/jquery.min.js" ></script>
 <script src="../../../superlists/static/tests/qunit.js" ></script>
<script src="../accounts.js" ></script>
<script>

test("initialize calls navigator.id.watch" , function () {
	 var user = 'current user' ;
	 var token = 'csrf token' ;
	 var urls = {login: 'login url' , logout: 'logout url' };
	 var mockNavigator = {
	 id: {
	 watch: sinon. mock() //
	 }
	 };
	 Superlists. Accounts. initialize(mockNavigator, user, token, urls);
	 equal(
	 mockNavigator. id. watch. calledOnce, //
	 true,
	 'check watch function called'
	 );
	});
	
</script>
</body>
</html>

